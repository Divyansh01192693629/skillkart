{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PCC\\\\Desktop\\\\skillkart\\\\client\\\\src\\\\components\\\\Discussion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Discussion = () => {\n  _s();\n  const {\n    roadmap\n  } = useParams();\n  const [message, setMessage] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [discussions, setDiscussions] = useState([]);\n  useEffect(() => {\n    const fetchDiscussions = async () => {\n      try {\n        const response = await fetch(`http://localhost:5001/api/discussions/${roadmap}`);\n        const data = await response.json();\n        setDiscussions(data);\n      } catch (error) {\n        console.error('Failed to fetch discussions:', error);\n      }\n    };\n    fetchDiscussions();\n  }, [roadmap]);\n  const handlePost = async () => {\n    try {\n      const response = await fetch('http://localhost:5001/api/discussions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          roadmap,\n          userEmail,\n          message\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setDiscussions([{\n          userEmail,\n          message,\n          createdAt: new Date()\n        }, ...discussions]);\n        setMessage('');\n      } else {\n        alert('Failed to post');\n      }\n    } catch (error) {\n      alert('Failed to fetch');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center mb-4\",\n      children: [roadmap, \" Discussion\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-4 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control mb-3\",\n            value: userEmail,\n            onChange: e => setUserEmail(e.target.value),\n            placeholder: \"Your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control mb-3\",\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            placeholder: \"Your Question or Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary w-100\",\n            onClick: handlePost,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 16\n        }, this), discussions.map((d, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-3 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: d.userEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 23\n            }, this), \" (\", new Date(d.createdAt).toLocaleString(), \"):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: d.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 20\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 18\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n};\n_s(Discussion, \"18ne/MD19p8wM58RsV1Pa7B8in4=\", false, function () {\n  return [useParams];\n});\n_c = Discussion;\nexport default Discussion;\nvar _c;\n$RefreshReg$(_c, \"Discussion\");","map":{"version":3,"names":["React","useState","useEffect","useParams","jsxDEV","_jsxDEV","Discussion","_s","roadmap","message","setMessage","userEmail","setUserEmail","discussions","setDiscussions","fetchDiscussions","response","fetch","data","json","error","console","handlePost","method","headers","body","JSON","stringify","success","createdAt","Date","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","map","d","index","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/PCC/Desktop/skillkart/client/src/components/Discussion.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n     import { useParams } from 'react-router-dom';\r\n\r\n     const Discussion = () => {\r\n       const { roadmap } = useParams();\r\n       const [message, setMessage] = useState('');\r\n       const [userEmail, setUserEmail] = useState('');\r\n       const [discussions, setDiscussions] = useState([]);\r\n\r\n       useEffect(() => {\r\n         const fetchDiscussions = async () => {\r\n           try {\r\n             const response = await fetch(`http://localhost:5001/api/discussions/${roadmap}`);\r\n             const data = await response.json();\r\n             setDiscussions(data);\r\n           } catch (error) {\r\n             console.error('Failed to fetch discussions:', error);\r\n           }\r\n         };\r\n         fetchDiscussions();\r\n       }, [roadmap]);\r\n\r\n       const handlePost = async () => {\r\n         try {\r\n           const response = await fetch('http://localhost:5001/api/discussions', {\r\n             method: 'POST',\r\n             headers: { 'Content-Type': 'application/json' },\r\n             body: JSON.stringify({ roadmap, userEmail, message })\r\n           });\r\n           const data = await response.json();\r\n           if (data.success) {\r\n             setDiscussions([{ userEmail, message, createdAt: new Date() }, ...discussions]);\r\n             setMessage('');\r\n           } else {\r\n             alert('Failed to post');\r\n           }\r\n         } catch (error) {\r\n           alert('Failed to fetch');\r\n         }\r\n       };\r\n\r\n       return (\r\n         <div className=\"container mt-5\">\r\n           <h1 className=\"text-center mb-4\">{roadmap} Discussion</h1>\r\n           <div className=\"row justify-content-center\">\r\n             <div className=\"col-md-8\">\r\n               <div className=\"card p-4 mb-3\">\r\n                 <input\r\n                   type=\"text\"\r\n                   className=\"form-control mb-3\"\r\n                   value={userEmail}\r\n                   onChange={(e) => setUserEmail(e.target.value)}\r\n                   placeholder=\"Your Email\"\r\n                 />\r\n                 <textarea\r\n                   className=\"form-control mb-3\"\r\n                   value={message}\r\n                   onChange={(e) => setMessage(e.target.value)}\r\n                   placeholder=\"Your Question or Comment\"\r\n                 />\r\n                 <button className=\"btn btn-primary w-100\" onClick={handlePost}>\r\n                   Post\r\n                 </button>\r\n               </div>\r\n               {discussions.map((d, index) => (\r\n                 <div key={index} className=\"card p-3 mb-2\">\r\n                   <p><strong>{d.userEmail}</strong> ({new Date(d.createdAt).toLocaleString()}):</p>\r\n                   <p>{d.message}</p>\r\n                 </div>\r\n               ))}\r\n             </div>\r\n           </div>\r\n         </div>\r\n       );\r\n     };\r\n\r\n     export default Discussion;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}